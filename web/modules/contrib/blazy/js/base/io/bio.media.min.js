!function(t,e){"use strict";var a="BioMedia",n=t.dBlazy,r=t.Bio;"function"==typeof define&&define.amd?define([a,n,r],e):"object"==typeof exports?module.exports=e(a,n,r):t[a]=e(a,n,r)}(this,function(a,p,n){"use strict";var r,i,o=document,t="data-",f="src",m="srcset",h=t+f,s=t+"b-html",g=[m,f],b=0,c=!1,l=p.multimedia||!1;function e(t){var e=n.apply(p.extend({},i,p.extend({},r,this)),arguments);return e.name=a,e}function A(t,e){var a,n;p.isHtml(t)&&p.hasAttr(t,s)&&(n=!1,(a=p.attr(t,s))&&(n=!0,a=a.replace("data:text/plain;base64,",""),a=atob(a),p.append(t,a),p.removeAttr(t,s)),b=p.status(t,n,e))}function v(t,e,a,n){return c||(u(t,"defer",function(t){p.attr(t,"loading","lazy")}),c=!0),p.status(e,a,n)}function u(t,e,a){t=t.options;if(!p.isNativeLazy)return 1;e=e||"a";e=p.selector(t,'[data-src][loading*="'+e+'"]:not(.b-blur)'),e=p.findAll(o,e);return e.length&&p.each(e,function(t){p.mapAttr(t,["srcset","src"],!0),p.mapSource(t,!1,!0,!1),p.isFun(a)&&a(t)}),e}return i=Bio.prototype,(r=e.prototype=Object.create(i)).constructor=e,r.lazyLoad=function(t,e){var a=this,n=a.options,r=t.parentNode,i=p.isBg(t),o=p.equal(r,"picture"),s=p.equal(t,"img"),c=p.equal(t,"audio"),u=p.equal(t,"video"),d=p.hasAttr(t,h);o?(d&&(p.mapSource(t,m,!0),p.mapAttr(t,f,!0)),b=v(a,t,!0,n)):u||c?(p.isBg(r)&&a.loadImage(r,!0,e),u=t,c=!0,r=n,p.mapSource(u,f,!0),u.load(),l&&l.init(u),b=p.status(u,c,r)):s||i?(a.loadImage(t,i,e),i&&p.isHtml(t)&&A(t,n)):p.hasAttr(t,f)?(p.attr(t,h)&&p.mapAttr(t,f,!0),b=v(a,t,!0,n)):A(t,n),a.erCount=b},r.loadImage=function(t,a,n){function e(t,e){b=a&&p.isFun(p.bg)?(p.bg(t,n),p.status(t,e,o)):v(i,t,e,o)}var r,i=this,o=i.options,s=new Image,c=p.hasAttr(t,m),u=p.hasAttr(t,h),d=u?h:f,l=u?"data-srcset":m;"decode"in s&&(s.decoding="async"),a&&p.isFun(p.bgUrl)?s.src=p.bgUrl(t,n):(u&&p.mapAttr(t,g,!1),s.src=p.attr(t,d)),c&&(s.srcset=p.attr(t,l),(r=p.attr(t,"sizes"))&&(s.sizes=r)),p.decode(s).then(function(){e(t,!0)}).catch(function(){e(t,c),c||(t.bhit=!1)})},r.resizing=function(t,e){var a=p.isBg(t,this.options);a&&this.loadImage(t,a,e)},r.prepare=function(){var e,t,a;u(this),p.webp&&(e=this,p.webp.isSupported()||(t=function(t){return t=t||"",p.selector(e.options,"["+t+'srcset*=".webp"]')},(a=p.findAll(o,t())).length||(a=p.findAll(o,t("data-"))),a.length&&p.webp.run(a)))},e});
